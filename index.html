<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Optical Fiber Work Tracking Dashboard</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Local CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“Š</text></svg>">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loader">
            <div class="spinner"></div>
            <p>Loading Dashboard...</p>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="success-message">
        <i class="fas fa-check-circle"></i>
        <span id="success-text">Data entered successfully!</span>
    </div>

    <!-- Photo View Modal -->
    <div class="photo-view-modal" id="photo-view-modal">
        <div class="photo-view-content">
            <button class="close-photo-view">&times;</button>
            <img id="photo-view-img" src="" alt="Photo">
        </div>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="login-modal">
        <div class="login-content">
            <div class="login-header">
                <div class="login-logo">
                    <i class="fas fa-satellite-dish"></i>
                    <h2>BharatNet Dashboard</h2>
                </div>
                <p>Optical Fiber Work Tracking System</p>
            </div>
            <form id="login-form">
                <div class="form-group">
                    <label for="username"><i class="fas fa-user"></i> Username</label>
                    <input type="text" id="username" placeholder="Enter username" required>
                </div>
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="password" placeholder="Enter password" required>
                </div>
                <div class="login-error" id="login-error">
                    <i class="fas fa-exclamation-triangle"></i> Invalid username or password
                </div>
                <button type="submit" class="btn-login">
                    <i class="fas fa-sign-in-alt"></i> Login to Dashboard
                </button>
                <div class="login-footer">
                    <p><i class="fas fa-info-circle"></i> Default: username: <strong>101214</strong> | password: <strong>101214</strong></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container" id="main-container">
        <!-- Header -->
        <header class="main-header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-satellite-dish"></i>
                    <div>
                        <h1>Optical Fiber Dashboard</h1>
                        <p class="subtitle">Real-time Work Tracking & Management</p>
                    </div>
                </div>
            </div>
            
            <div class="header-center">
                <div class="quick-stats">
                    <div class="stat-item">
                        <i class="fas fa-ruler-combined"></i>
                        <span id="header-total-scope">0 m</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-check-circle"></i>
                        <span id="header-completed">0 m</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-clock"></i>
                        <span id="header-pending">0 m</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-signal"></i>
                        <span id="header-live">0%</span>
                    </div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="user-details">
                        <span class="user-name">Bikramjeet Singh</span>
                        <span class="user-role">Project Manager</span>
                    </div>
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
                <div class="last-update">
                    <i class="fas fa-sync-alt"></i>
                    <span id="last-update-time">Just now</span>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="main-nav">
            <div class="nav-container">
                <button class="nav-btn active" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </button>
                <button class="nav-btn" data-tab="work-tracking">
                    <i class="fas fa-tasks"></i>
                    <span>Work Tracking</span>
                </button>
                <button class="nav-btn" data-tab="infrastructure">
                    <i class="fas fa-network-wired"></i>
                    <span>Infrastructure</span>
                </button>
                <button class="nav-btn" data-tab="chambers">
                    <i class="fas fa-hdd"></i>
                    <span>Chambers</span>
                </button>
                <button class="nav-btn" data-tab="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </button>
                <button class="nav-btn" data-tab="reports">
                    <i class="fas fa-file-alt"></i>
                    <span>Reports</span>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboard">
                <!-- Dashboard content will be loaded here -->
            </div>

            <!-- Work Tracking Tab -->
            <div class="tab-content" id="work-tracking">
                <!-- Work Tracking content will be loaded here -->
            </div>

            <!-- Infrastructure Tab -->
            <div class="tab-content" id="infrastructure">
                <!-- Infrastructure content will be loaded here -->
            </div>

            <!-- Chambers Tab -->
            <div class="tab-content" id="chambers">
                <!-- Chambers content will be loaded here -->
            </div>

            <!-- Analytics Tab -->
            <div class="tab-content" id="analytics">
                <!-- Analytics content will be loaded here -->
            </div>

            <!-- Reports Tab -->
            <div class="tab-content" id="reports">
                <!-- Reports content will be loaded here -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p><i class="fas fa-copyright"></i> 2024-2025 BharatNet | Optical Fiber Work Tracking System</p>
                    <p class="footer-version">Version 2.0 | Cloud Enabled</p>
                </div>
                <div class="footer-right">
                    <div class="connection-status">
                        <i class="fas fa-cloud" id="cloud-status-icon"></i>
                        <span id="cloud-status-text">Connected to Cloud</span>
                    </div>
                    <div class="data-status">
                        <i class="fas fa-database"></i>
                        <span id="data-count">0 records</span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript Files -->
    <script src="supabase.js"></script>
    <script src="script.js"></script>
</body>
</html>
